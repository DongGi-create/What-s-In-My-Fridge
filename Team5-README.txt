# What-s-In-My-Fridge

## 0. Application 주요 기능 설명
* 개인별 가지고 있는 식자재를 DB로 관리합니다. 가진 재료를 조회하고, 추가, 삭제할 수 있습니다.
* 개인은 자신의 레시피 게시물을 작성하고, 작성된 게시물은 모든 사용자가 조회가능합니다.
* 레시피 게시물을 검색할 때에는 제목, 내용, 글쓴이 정보를 이용해 검색할 수 있습니다.
* 요리를 검색할 때에는 요리 이름으로 검색하고, 요리의 카테고리(한식, 일식 등)를 선택할 수 있습니다.
* Application의 전체적인 사용자 현황 통계를 사용자 모두와 공유하면 좋을 거라 생각해 구현했습니다.
* 비활동적인 사용자의 비율(레시피 게시물을 작성하지 않은 사람)을 조회할 수 있습니다.
* 연령대별로 사용자가 몇명있는지 조회할 수 있습니다.
* 활동적인 사용자의 랭킹(좋아요 기능 및 댓글 기능 사용 횟수 기준)을 1위부터 10위까지 조회할 수 있습니다.

## 1. 레시피, 요리 검색
* 레시피 제목으로 검색 - Q1
* Q1 : 로그인 -> 요리, 레시피 검색 -> 레시피 검색 -> 제목으로 검색 -> 제목 검색시 Q1
* Q1 쿼리를 사용하기 위해서 제목으로 검색시 해당 질문을 두번 호출합니다
첫번째 호출시 Q1쿼리를 적용한 결과를 띄워줍니다.
두번째 호출시 레시피에 대한 전체 attribute를 받아와서 제목만 띄워주고 이후 입력받은 레시피의 상세정보를 모두 출력하는 기능을 제공합니다.
* 레시피 검색후 결과 표시에 작성자 정보 출력 - Q5
* Q5 : 로그인 -> 요리, 레시피 검색 -> 요리 검색 -> 요리 이름 입력 -> 음식 종류 선택 -> 음식 종류들 중에서 원하는 음식 번호 입력시 Q5 결과 실행
* 요리에 필요한 재료 조회 - Q11
* Q11 : 로그인 -> 요리, 레시피 검색 -> 요리 검색 -> 요리 이름 입력 -> 음식 종류 선택 -> 음식 종류들 중에서 원하는 음식 번호 입력시 Q11 결과 실행
* 댓글을 작성한 User 아이디 조회 - Q10 활용
* 댓글을 작성한 User아이디들 중에 로그인 유저 id와 일치한 정보가 있다면 댓글을 썼다고 알리고 그렇지 않다면 한번도 쓰지 않았다고 띄워준다

## 2. 냉장고 관리
* Q15 : 로그인 -> 냉장고 관리 -> 변형한 Q15의 결과 실행

## 3. 나의 정보
* Q7 : 로그인 -> 나의 정보 -> 내가 작성한 레시피 -> 변형한 Q7의 결과 실행
* Q21 : 로그인 -> 냉장고 관리 -> 재료 넣기 -> 재료 이름 입력 시 Q21의 결과 실행

## 4. 사용자 현황
* Q9 : 로그인 -> 사용자 현황 -> 비활동 유저 비율 -> 변형한 Q9의 결과 실행
* Q13 : 로그인 -> 사용자 현황 -> 유저 연령 분포 -> 변형한 Q13의 결과 실행
* Q14 : 로그인 -> 사용자 현황 -> 활발한 유저 랭킹 -> 변형한 Q14의 결과 실행


## 쿼리 변경 사항
* Q7 RECIPE.*, CUISINE.Cuisine_name을 조회하도록 변경.
* Q9 Order by 절을 없애고 집계함수로 변경
* Q13 정렬기준만 기존에 사용자 수가 많은 순에서 연령대 순으로 변경.
* Q14 가장 높은 사람의 id를 출력하는게 아닌 상위 10명의 이름을 출력하도록 수정.
* Q15 INGREDIENT.ingredient name, OWN.quantity, OWN.unit 조회하고 재료 이름 순으로 정렬하도록 변경
* Q21(추가) 사용자가 식재료를 추가하기 전 해당 식재료를 이미 가지고 있는지의 정보를 알아내기 위해 필요하다고 생각되는 쿼리를 추가하였습니다. Team5-Phase3-3.sql 파일 60번째 줄에 추가한 쿼리의 원형을 넣어 두었습니다.


## 작업 환경
* Eclipse IDE for Enterprise Java and Web Developers - 2021-09 버전을 사용했습니다.
* github로 코드를 팀원들끼리 공유하여 작업하였습니다.
* Phase3JDBC.java 파일에 main method가 있습니다.
